# Contributing Guide

<!-- Generated by Copilot -->

> **Goal**: Learn how to contribute code to the TransactionService project

## Getting Started

1. Fork the repository
2. Clone your fork
3. Set up the development environment (see [Getting Started](../tutorials/GETTING_STARTED.md))
4. Create a feature branch

## Development Workflow

### 1. Create a Branch

```powershell
# Sync with main
git checkout main
git pull origin main

# Create feature branch
git checkout -b feat/your-feature-name

# Or for fixes
git checkout -b fix/issue-description
```

### Branch Naming Convention

| Type | Pattern | Example |
|------|---------|---------|
| Feature | `feat/description` | `feat/add-recurring-transactions` |
| Bug Fix | `fix/description` | `fix/transaction-validation` |
| Refactor | `refactor/description` | `refactor/caching-layer` |
| Docs | `docs/description` | `docs/api-reference` |
| Test | `test/description` | `test/integration-tests` |

### 2. Make Changes

Follow the project architecture:

```
Domain Layer (no dependencies)
    ↑
Application Layer (depends on Domain)
    ↑
Infrastructure Layer (depends on Application, Domain)
    ↑
API Layer (depends on all)
```

### 3. Write Tests

```powershell
# Run existing tests
dotnet test

# Add tests for new functionality
# Domain tests: tests/ExpenseVault.TransactionService.Domain.UnitTests/
# Application tests: tests/ExpenseVault.TransactionService.Application.UnitTests/
```

### 4. Commit Changes

```powershell
# Stage changes
git add .

# Commit with conventional message
git commit -m "feat: add transaction attachment support"
```

### Commit Message Format

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

Types:
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation
- `refactor`: Code refactoring
- `test`: Adding tests
- `chore`: Maintenance

Examples:
```
feat(domain): add RecurringTransaction entity
fix(api): correct validation error response
docs: update API reference
refactor(infrastructure): optimize query performance
test: add integration tests for transactions
```

### 5. Push and Create PR

```powershell
# Push branch
git push origin feat/your-feature-name

# Create Pull Request on GitHub
```

## Code Standards

### C# Conventions

- Use PascalCase for public members
- Use camelCase for private fields with underscore prefix (`_fieldName`)
- Use `var` when type is obvious
- Use expression-bodied members for simple methods
- Follow nullable reference type annotations

### File Organization

```csharp
// 1. Usings (sorted, no unused)
using System;
using Microsoft.Extensions.DependencyInjection;

// 2. Namespace
namespace ExpenseVault.TransactionService.Domain.Entities;

// 3. Class declaration
public class Transaction : AuditableEntityBase
{
    // 4. Private fields
    private readonly List<TransactionAttachment> _attachments = [];

    // 5. Properties
    public Guid WalletId { get; private set; }

    // 6. Constructors
    public Transaction() { }

    // 7. Public methods
    public void AddAttachment(TransactionAttachment attachment) { }

    // 8. Private methods
    private void ValidateAmount() { }
}
```

### CQRS Pattern

Commands (write operations):
```csharp
public record CreateTransactionCommand(/* properties */) : IRequest<Guid>;

public class CreateTransactionCommandHandler : IRequestHandler<CreateTransactionCommand, Guid>
{
    public async Task<Guid> Handle(CreateTransactionCommand request, CancellationToken cancellationToken)
    {
        // Implementation
    }
}
```

Queries (read operations):
```csharp
public record GetTransactionByIdQuery(Guid Id) : IRequest<TransactionDto?>;
```

## Pull Request Checklist

Before submitting:

- [ ] Code builds without errors
- [ ] All tests pass (`dotnet test`)
- [ ] New code has tests
- [ ] Documentation updated if needed
- [ ] Commit messages follow convention
- [ ] Branch is up to date with main

## Review Process

1. **Automated Checks**: CI runs build and tests
2. **Code Review**: Team member reviews code
3. **Approval**: At least one approval required
4. **Merge**: Squash and merge to main

## Getting Help

- Check [CLAUDE.md](../../CLAUDE.md) for development patterns
- Review existing code for examples
- Open an issue for questions

---

**Navigation**: [How-To Home](README.md) | [Documentation Map](../DOCUMENTATION_MAP.md)
