# API Reference

<!-- Generated by Copilot -->

> Complete API specification for ExpenseVault.TransactionService

## Base URL

```
Development: http://localhost:9400
```

## Authentication

Currently, the API does not require authentication (development mode).

## Endpoints

### Transactions

#### Create Transaction

Creates a new financial transaction.

```http
POST /api/transactions
Content-Type: application/json
```

**Request Body**

```json
{
  "walletId": "550e8400-e29b-41d4-a716-446655440000",
  "categoryId": "660e8400-e29b-41d4-a716-446655440001",
  "amount": 150.00,
  "currency": "USD",
  "type": 1,
  "description": "Grocery shopping",
  "transactionDate": "2025-11-30T10:00:00Z",
  "notes": "Weekly groceries",
  "location": {
    "latitude": 37.7749,
    "longitude": -122.4194,
    "address": "123 Market St, San Francisco, CA"
  },
  "tags": ["groceries", "food"]
}
```

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| walletId | UUID | ✅ | Wallet identifier |
| categoryId | UUID | ✅ | Category identifier |
| amount | decimal | ✅ | Transaction amount |
| currency | string | ✅ | ISO 4217 currency code |
| type | int | ✅ | 0=Income, 1=Expense, 2=Transfer |
| description | string | ✅ | Transaction description |
| transactionDate | datetime | ✅ | When transaction occurred |
| notes | string | ❌ | Additional notes |
| location | object | ❌ | Geographic location |
| tags | string[] | ❌ | Transaction tags |

**Response**

```http
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": "770e8400-e29b-41d4-a716-446655440002"
}
```

---

#### Get Transaction by ID

Retrieves a single transaction by its identifier.

```http
GET /api/transactions/{id}
```

**Parameters**

| Parameter | Type | Location | Description |
|-----------|------|----------|-------------|
| id | UUID | path | Transaction identifier |

**Response**

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": "770e8400-e29b-41d4-a716-446655440002",
  "walletId": "550e8400-e29b-41d4-a716-446655440000",
  "categoryId": "660e8400-e29b-41d4-a716-446655440001",
  "amount": 150.00,
  "currency": "USD",
  "type": 1,
  "description": "Grocery shopping",
  "transactionDate": "2025-11-30T10:00:00Z",
  "notes": "Weekly groceries",
  "location": {
    "latitude": 37.7749,
    "longitude": -122.4194,
    "address": "123 Market St, San Francisco, CA"
  },
  "tags": ["groceries", "food"],
  "createdAt": "2025-11-30T10:30:00Z",
  "updatedAt": null
}
```

**Error Response**

```http
HTTP/1.1 404 Not Found
Content-Type: application/json

{
  "message": "Transaction not found"
}
```

---

#### Get Transactions by Wallet

Retrieves paginated transactions for a specific wallet.

```http
GET /api/transactions/wallet/{walletId}?pageNumber=1&pageSize=20
```

**Parameters**

| Parameter | Type | Location | Default | Description |
|-----------|------|----------|---------|-------------|
| walletId | UUID | path | - | Wallet identifier |
| pageNumber | int | query | 1 | Page number (1-based) |
| pageSize | int | query | 20 | Items per page (max 100) |

**Response**

```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "items": [
    {
      "id": "770e8400-e29b-41d4-a716-446655440002",
      "walletId": "550e8400-e29b-41d4-a716-446655440000",
      "amount": 150.00,
      "currency": "USD",
      "type": 1,
      "description": "Grocery shopping",
      "transactionDate": "2025-11-30T10:00:00Z"
    }
  ],
  "pageNumber": 1,
  "pageSize": 20,
  "totalCount": 1,
  "totalPages": 1,
  "hasPreviousPage": false,
  "hasNextPage": false
}
```

---

### Health

#### Health Check

```http
GET /health
```

**Response**

```http
HTTP/1.1 200 OK
Content-Type: text/plain

Healthy
```

---

## Data Types

### TransactionType

| Value | Name | Description |
|-------|------|-------------|
| 0 | Income | Money received |
| 1 | Expense | Money spent |
| 2 | Transfer | Transfer between wallets |

### Location Object

```json
{
  "latitude": 37.7749,
  "longitude": -122.4194,
  "address": "123 Market St, San Francisco, CA"
}
```

### Money Object

```json
{
  "amount": 150.00,
  "currency": "USD"
}
```

## Error Responses

### 400 Bad Request

```json
{
  "errors": {
    "Amount": ["Amount must be greater than 0"],
    "Currency": ["Currency is required"]
  }
}
```

### 404 Not Found

```json
{
  "message": "Transaction not found"
}
```

### 500 Internal Server Error

```json
{
  "message": "An unexpected error occurred"
}
```

## Rate Limiting

Currently not implemented (development mode).

## Versioning

API versioning will be implemented in future releases.

---

**Navigation**: [Reference Home](../README.md) | [Documentation Map](../../DOCUMENTATION_MAP.md)
